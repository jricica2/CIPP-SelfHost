# =============================================================================
# CIPP Self-Host Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# Run setup.ps1 for an interactive guided setup.
# =============================================================================

# --- SAM Credentials (for Graph API access to your M365 tenant) ---
# These come from your existing CIPP SAM app registration.
# If you haven't set up SAM yet, follow:
# https://docs.cipp.app/setup/installation/creating-the-cipp-service-account-gdap-ready
SAM_APPLICATION_ID=
SAM_APPLICATION_SECRET=
SAM_TENANT_ID=
SAM_REFRESH_TOKEN=

# --- Portal Login App Registration ---
# Create a NEW app registration in Entra ID for portal authentication.
# Type: Web, Single tenant
# Redirect URI: https://<CIPP_HOSTNAME>/auth/callback
# Permissions: openid, profile, email (delegated)
PORTAL_TENANT_ID=
PORTAL_CLIENT_ID=
PORTAL_CLIENT_SECRET=

# --- General Config ---
# The hostname or IP users will use to access CIPP.
# Examples: cipp.local, 192.168.1.100, cipp.yourdomain.com
CIPP_HOSTNAME=localhost

# A random string used to sign session cookies. Generate with:
# PowerShell: -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | ForEach-Object { [char]$_ })
# Or: openssl rand -hex 32
SESSION_SECRET=

# The UPN (email) of the initial admin user.
# This user will automatically get admin role on first login.
# After setup, manage roles via CIPP Settings -> Access Control.
DEFAULT_ADMIN_UPN=
